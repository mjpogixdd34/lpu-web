(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{117:(e,t,a)=>{Promise.resolve().then(a.bind(a,553)),Promise.resolve().then(a.t.bind(a,7822,23)),Promise.resolve().then(a.t.bind(a,4150,23)),Promise.resolve().then(a.t.bind(a,4326,23))},553:(e,t,a)=>{"use strict";a.d(t,{A:()=>m,AuthProvider:()=>n});var o=a(4),s=a(3176);let r=(0,s.createContext)(null),l="demo:users",i="demo:session";function n(e){let{children:t}=e,[a,n]=(0,s.useState)(null),[m,u]=(0,s.useState)(!0);async function c(e,t){let a=JSON.parse(localStorage.getItem(l)||"[]").find(t=>t.email.toLowerCase()===e.toLowerCase());if(!a||a.password!==t)return{ok:!1,error:"Invalid email or password"};let o={id:a.id,email:a.email,firstName:a.firstName,lastName:a.lastName};return localStorage.setItem(i,JSON.stringify(o)),n(o),{ok:!0}}async function d(e){let t=JSON.parse(localStorage.getItem(l)||"[]");if(t.some(t=>t.email.toLowerCase()===e.email.toLowerCase()))return{ok:!1,error:"Email already registered"};let a={id:"u_".concat(Date.now()),email:e.email,firstName:e.firstName,lastName:e.lastName,password:e.password};localStorage.setItem(l,JSON.stringify([...t,a]));let o={id:a.id,email:a.email,firstName:a.firstName,lastName:a.lastName};return localStorage.setItem(i,JSON.stringify(o)),n(o),{ok:!0}}function f(){localStorage.removeItem(i),n(null)}(0,s.useEffect)(()=>{try{!function(){try{let e=JSON.parse(localStorage.getItem(l)||"[]");e.find(e=>"student@demo.lpu.edu"===e.email)||localStorage.setItem(l,JSON.stringify([...e,{id:"u_1001",email:"student@demo.lpu.edu",firstName:"Alex",lastName:"Student",password:"Password123"}]))}catch(e){}}();let e=localStorage.getItem(i);if(e){let t=JSON.parse(e);n(t)}}catch(e){}finally{u(!1)}},[]);let N=(0,s.useMemo)(()=>({user:a,loading:m,login:c,register:d,logout:f}),[a,m]);return(0,o.jsx)(r.Provider,{value:N,children:t})}function m(){let e=(0,s.useContext)(r);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},4150:e=>{e.exports={style:{fontFamily:"'GeistMono', ui-monospace, SFMono-Regular, Roboto Mono, Menlo, Monaco, Liberation Mono, DejaVu Sans Mono, Courier New, monospace"},className:"__className_f910ec",variable:"__variable_f910ec"}},4326:()=>{},7822:e=>{e.exports={style:{fontFamily:"'GeistSans', 'GeistSans Fallback'"},className:"__className_fb8f2c",variable:"__variable_fb8f2c"}}},e=>{var t=t=>e(e.s=t);e.O(0,[7797,5841,5476,8571,7358],()=>t(117)),_N_E=e.O()}]);